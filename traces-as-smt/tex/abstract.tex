%% Should be 70-150 words
Asynchronous message passing for C language is an important paradigm in writing
applications for embedded heterogeneous multicore systems.  The
Multicore Association (MCA), an industry consortium promoting
multicore technology, is working to standardize message passing into a
single API, MCAPI, for bare metal implementation and portability
across platforms.  Correctness in such an API is difficult to reason
about manually, and testing against reference solutions is equally
difficult as reference solutions implement an unknown set of allowed
behaviors, and programmers have no way to directly control API
internals to expose or reproduce errors.  This paper encodes an MCAPI
execution as an SMT problem, which if satisfiable, yields a feasible
execution schedule on the same trace,
such that it resolves non-determinism in the MCAPI runtime in the way that it now fails user provided assertions.
Such an encoding is useful for test, debug, and
verification of MCAPI program execution.  The novelty in the encoding
is the use of match pairs (potential send and receive couplings) to
model the MCAPI execution in the SMT problem.  Match-pair encoding for
MCAPI executions, when compared to other encoding strategies, is
simpler to reason about, results in significantly fewer terms in the
SMT problem, and captures feasible behaviors that are ignored in
previously published techniques. To our knowledge, this is the first SMT encoding of MCAPI application that is able to run in \textit{infinite-buffer} semantics, meaning that more messages can be received by a particular endpoint at a time. In other words, our encoding with infinite-buffer controls more non-deterministic behaviors at runtime. Our results demonstrate that our SMT encoding reduces $66\%$ to $80\%$ the size of that of the existing technology. In addition, our encoding runs average eight times faster and uses two times less memory than the existing technology on the benchmarks in our experiment.

