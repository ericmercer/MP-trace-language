\section{Conclusions and Future Work}
We have presented an SMT encoding of an MCAPI program that uses match pairs rather than the state-based or order-based encoding in the prior work. Unlike the existing method of SMT encoding, our encoding can correctly capture the non-deterministic behavior of an MCAPI program. Also, we have provided an algorithm with $O(N^2)$ time complexity that over-approximates the true set of match pairs, where $N$ is the total number of code lines of the program. Once the match pairs are generated by the algorithm, our solution with a \textit{CEGAR} loop is provided to prune infeasible match pairs from the initial set until we witness a true error or conclude no error is possible. The experimental results shows that our encoding can be solved efficiently compared with the existing work in \cite{elwakil:padtad10}.

The generation of the set of match pairs is essential to the efficiency of our \textit{CEGAR} loop. Currently we have an over-approximated generation method, but the efficiency is not impressive. New methods for generating a much more precise set of match pair are required. Also The mehtod of DPOR are considered to combine with our SMT encoding to generate the execution traces. We can then use the SMT encoding to further improve the DPOR technique. 