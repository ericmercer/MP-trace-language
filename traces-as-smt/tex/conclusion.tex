\section{Conclusions and Future Work}
We have presented an SMT encoding of an MCAPI program that uses match pairs rather than the state-based or order-based encoding in the prior work. Unlike the existing method of SMT encoding, our encoding can correctly capture the non-deterministic behavior of an MCAPI program. Also, we have provided an algorithm with $O(N^2)$ time complexity that over-approximates the true set of match pairs, where $N$ is the total number of code lines of the program. Once the match pairs are generated by the algorithm, our encoding guarantees the actual possible MCAPI program executions can be captured. The experimental results shows that our encoding can be solved efficiently compared with the existing work in \cite{elwakil:padtad10}.

The precision of the set of match pairs is essential to the efficiency of SMT encodings. Currently we have an over-approximated generation method which still keeps several ``bogus" match pairs in the generated set. New methods for generating a much more precise set of match pair are required. Also The method of DPOR are considered to combine with our SMT encoding to generate the execution traces. We can then use the SMT encoding to further improve the DPOR technique.

